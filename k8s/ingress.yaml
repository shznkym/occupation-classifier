---
# Ingress configuration for occupation-classifier
# This provides external access to the application
# 
# IMPORTANT: Make sure you have an Ingress Controller installed in your cluster
# For example: nginx-ingress, traefik, etc.
# 
# Customize the host field to match your domain name

apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: occupation-classifier-ingress
  namespace: occupation-classifier
  labels:
    app: occupation-classifier
  annotations:
    # Uncomment and customize based on your Ingress Controller
    # nginx.ingress.kubernetes.io/rewrite-target: /
    # cert-manager.io/cluster-issuer: "letsencrypt-prod"
spec:
  ingressClassName: nginx  # Change this based on your Ingress Controller
  rules:
  - host: occupation-classifier.example.com  # Change this to your domain
    http:
      paths:
      - path: /api
        pathType: Prefix
        backend:
          service:
            name: backend-service
            port:
              number: 8000
      - path: /
        pathType: Prefix
        backend:
          service:
            name: frontend-service
            port:
              number: 3000
  # Uncomment for TLS/HTTPS
  # tls:
  # - hosts:
  #   - occupation-classifier.example.com
  #   secretName: occupation-classifier-tls
